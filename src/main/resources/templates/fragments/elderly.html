<!DOCTYPE html>
<html lang="es"
      xmlns:th="http://www.thymeleaf.org">
<head>
    <div th:fragment="elderly-css">
        <link rel="stylesheet" th:href="@{/css/elderly.css}" href="/css/elderly.css">
    </div>

</head>
<body>
<div th:fragment="elderly">
    <br>
    <div class="tabs">
        <div class="tab">
            <input type="radio" id="tab-1" name="tab-group-1" checked>
            <label for="tab-1">Servicios</label>
            <div class="content-tab">
                <div class="buttonService">
                    <a class="btn" href="request/add"> Contratar servicio</a>
                </div>
                <br>
                <br>
                <h3>Listado de servicios solicitados</h3>
                <table class="table table-striped" th:object="${session}">
                    <thead th:if="*{requests != null}">
                    <tr>
                        <th>Servicio</th>
                        <th>Precio</th>
                        <th>Fecha</th>
                        <th>Comentario</th>
                        <th>Estado</th>
                        <th></th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr th:each="request: *{requests}" >
                        <td>
                            <p th:if="${request.catering==true}">Catering</p>
                            <p th:if="${request.nursing==true}">Enfermería</p>
                            <p th:if="${request.cleaning==true}">Limpieza</p>
                        </td>
                        <td th:text="${session.contracts.getServicePrice(request.contractId)}"></td>
                        <td th:text="${'De L a V - ' + request.time}"></td>
                        <td th:if="${request.description==null}"> -</td>
                        <td th:unless="${request.description==null}">
                            <p th:text="${#strings.capitalize(request.description)}"></p>
                        </td>
                        <td th:text="${request.state}"></td>
                        <td th:if="${request.endDate == null}">
                            <div th:if="${request.state != 'Rechazado'}">
                                <a class="btn btn-danger"
                                   th:href="@{/request/cancel/{number}(number=${request.number})}">Cancelar</a>
                            </div>
                        </td>
                        <td th:unless="${request.endDate == null}">
                            <p>Cancelado</p>
                        </td>
                    </tr>

                    </tbody>
                    <tr th:unless="*{requests != null}">
                        <td> No tiene ningún servicio contratado</td>
                    </tr>
                </table>
            </div>
        </div>

        <div class="tab">
            <input type="radio" id="tab-2" name="tab-group-1">
            <label for="tab-2">Ocio con voluntarios</label>
            <div class="content-tab">
                <form>
                    <select>
                        <option></option>
                    </select>
                    <input type="submit" value="Solicitar">
                </form>
                <h3>Ocio con voluntarios</h3>
                <table>
                    <tr>
                        <td></td>
                    </tr>
                </table>
            </div>
        </div>
    </div>
</div>
</body>
</html>